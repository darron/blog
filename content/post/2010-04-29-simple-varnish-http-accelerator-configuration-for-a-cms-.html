---
date: 2010-04-29T00:00:00Z
published: true
title: Simple Varnish HTTP accelerator configuration for a CMS...
url: /2010/04/29/simple-varnish-http-accelerator-configuration-for-a-cms-/
---

<p>I've been working on a config for a CMS that's about to get pounded in the next couple of months - here's what it does:</p>
<p>1. Everything that flows through Varnish has a 5 minute TTL set - keep the origin server lightly loaded.</p>
<p>2. If Varnish can't get to the origin server, there's an hour to get it right - a "grace" period. That's pretty much an eternity in web years so it should be OK.</p>
<p>3. If the client requests the CMS, redirect to the proper backend server.</p>
<p>Other than that, it's pretty simple - handles POST requests by passing them back to the origin server and makes everything else nice and fast.</p>
<script src="https://gist.github.com/384412.js"></script>
